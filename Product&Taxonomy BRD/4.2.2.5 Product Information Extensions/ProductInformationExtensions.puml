@startuml ProductInformationExtensions

skinparam packageStyle rectangle
skinparam classAttributeIconSize 0
skinparam linetype ortho
skinparam nodesep 100
hide empty members

'    +schemaUri : Text          ' URL/URN to the payload schema
'    +schemaVersion? : Text     ' e.g., "1.0.0"
'    +schemaHash? : Text        ' checksum to pin exact content
'    +contentType? : Text       ' e.g., "application/schema+json"
'    +notes? : Text             ' optional human-readable usage

' === Layer 1: Abstract Core Model ===
package "Layer 1: Product Definition - Product Information Extensions" as PIE {

' that should be in the reference system section
' but will show here as well to illustrate 
  class SchemaDescriptor {
    +schemaUri : Text        
    +schemaVersion : Text   
    +schemaHash : Text  
    +contentType : Text       
    +notes : Text        
  }

class ReferenceSystem {
  +identifier: Any
  +description: Text
  +system_type: ReferenceSystemType
}

ReferenceSystem "1" --> "1" SchemaDescriptor : validates payload via >

'this represnts the piece of informaton added to the product e.g. a picture
'the picture is stored in the 'details' i.e. the payload. The data stored in here is
'validated against the reference system as well as the schema attached if any (the schema would be needed if
'the the dat type is terms of structure is not know upfront )

class "AdditionalProductInformation" as ExtensionDetails {
    +details    : Any
    +isPrimary : Boolean
    +validFrom : Date
    +validTo   : Date
    +note      : Text
  }

  '<b>Note:</b> used for information like rich media or 
  'contact information etc..

  Product "1" o-- "0..*" ExtensionDetails : has >
  ExtensionDetails "1" --> "1" ReferenceSystem : validated by >


}

@enduml

@startuml darwincore
'use for rich media darwin core schemas
object P <<Product>> {
identifier="TP-FR-AF-CDG-JFK"
name="CDG→JFK Flight"
}

object RS_DWC <<ReferenceSystem>> {
    identifier=RS-DARWIN-CORE-MEDIA
    name=DarwinCore MediaObject

} IA\nn\nsourceKind=external\nauthority=GBIF\nschemaUri=https://example.org/schema/dwc-mediaobject-v1.json\nschemaVersion=1.0.0"

object ED_MEDIA as "ExtensionDetails" {
isPrimary=true
validFrom=2025-10-01
note=Hero photo
details={\n  \"dwc:identifier\":\"urn:img:af:cdg-jfk:hero-001\",\n  \"dwc:title\":\"AF CDG→JFK – A350 at Gate\",\n \"dwc:license\":\"CC-BY-4.0\",\n  \"dwc:format\":\"image/jpeg\",\n  \"dwc:accessURI\":\"https://cdn.example/af/cdg-jfk/hero.jpg\"\n}
}


P o-- ED_MEDIA
ED_MEDIA --> RS_DWC
@enduml